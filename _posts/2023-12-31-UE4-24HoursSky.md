---
layout: post
title: UE4 에디터에서 신년 해돋이를 보는 방법
date: 2023-12-31
category: 
 - challenge
tag:
 - 1|SkySphere
 - 1|DirectionalLight
 - 1|Now
 - 1|ColorCurve
thumbnail: /style/image/portfolio_thumbnails/.png
icon: idea
---

해지고 뜨는 줄 모르고 작업했지만 신년 해돋이는 보고싶어 SkySphere에 실시간 반영되는 하늘을 연출해보았다

* content
{:toc}

## 요약 
- 주요 목표 : 실시간 태양의 고도와 석양/노을 연출하기
- 해결 방안 : SkySphere 액터에서 Light Source 액터에 Now함수로 반환받는 시간단위로 Y축 회전
- 이루어낸 성과 :
    1. 엔진콘텐츠로 주어진 애셋에만 의존하지 않고 스스로 하늘 표현 가능
    2. 작업하면서 하늘시간 체감 가능

```
PPT로 한장정리
1. 엔진 콘텐츠 BP_SkySphere 파헤치기
2. Now함수를 통해 실시간 고도 계산
3. ColorCurve 조율로 노을/일출 표현
```

---

## EngineContents

### SM_SkySphere

### BP_SkySphere

---

## BP_RealTimeSky

<iframe width="100%" height="400" src="https://blueprintue.com/render/7lkfzygg/" scrolling="no" allowfullscreen></iframe>

### LightSource Setting

### Now

[언리얼의 `Now` 함수는 PC의 로컬 시간을 반환해주는 함수이다](https://docs.unrealengine.com/4.26/en-US/API/Runtime/Core/Misc/FDateTime/Now/) [^21]  
반환값 year / month / day / hour / minute / second / millisecond 중 `hour` `minute` `second` `millisecond`로  
Tick 마다 `Light Source`로 지정해둔 `DirectionalLight`액터의 Y축 회전값에 반영해 주면 시간별 태양의 고도를 연출할 수 있다
Dx2D 공부할 당시 아날로그 시계를 구현하는 방식과 동일하게 시, 분, 초, 밀리초를 계산해주었다




### ColorCurve

---

## 생각정리

---

## Reference

[^21]: [Unreal Engine. Documentation. FDateTime::Now](https://docs.unrealengine.com/4.26/en-US/API/Runtime/Core/Misc/FDateTime/Now/)